{
  "openapi": "3.0.1",
  "info": {
    "title": "LegalConnect API Gateway",
    "description": "Documentação da API via Gateway",
    "version": "1.0"
  },
  "servers": [
    { "url": "http://localhost:8080", "description": "Gateway Server" }
  ],
  "paths": {
    "/api/v1/usuarios/empresas/{id}": {
      "get": {
        "tags": ["controlador-empresa"],
        "operationId": "buscarEmpresaPorId",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponseEmpresaResponseDTO"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["controlador-empresa"],
        "operationId": "atualizarEmpresa",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/EmpresaRequestDTO" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponseEmpresaResponseDTO"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["controlador-empresa"],
        "operationId": "excluirEmpresa",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": { "$ref": "#/components/schemas/BaseResponseVoid" }
              }
            }
          }
        }
      }
    },
    "/api/v1/usuarios/clientes/{id}": {
      "get": {
        "tags": ["controlador-cliente"],
        "operationId": "buscarClientePorId",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponseClienteResponseDTO"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["controlador-cliente"],
        "operationId": "atualizarCliente",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ClienteRequestDTO" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponseClienteResponseDTO"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["controlador-cliente"],
        "operationId": "excluirCliente",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": { "$ref": "#/components/schemas/BaseResponseVoid" }
              }
            }
          }
        }
      }
    },
    "/api/v1/usuarios/administradores-plataforma/{id}": {
      "get": {
        "tags": ["controlador-administrador-plataforma"],
        "operationId": "buscarAdministradorPorId",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponseAdministradorResponseDTO"
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["controlador-administrador-plataforma"],
        "operationId": "atualizarAdministrador",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdministradorRequestDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponseAdministradorResponseDTO"
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["controlador-administrador-plataforma"],
        "operationId": "excluirAdministrador",
        "parameters": [
          {
            "name": "id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "format": "uuid" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": { "$ref": "#/components/schemas/BaseResponseVoid" }
              }
            }
          }
        }
      }
    },
    "/api/v1/usuarios/empresas": {
      "get": {
        "tags": ["controlador-empresa"],
        "operationId": "listarEmpresas",
        "parameters": [
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": { "$ref": "#/components/schemas/Pageable" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponsePageEmpresaResponseDTO"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["controlador-empresa"],
        "operationId": "cadastrarEmpresa",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/EmpresaRequestDTO" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponseEmpresaResponseDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/usuarios/clientes": {
      "get": {
        "tags": ["controlador-cliente"],
        "operationId": "listarClientes",
        "parameters": [
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": { "$ref": "#/components/schemas/Pageable" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponsePageClienteResponseDTO"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["controlador-cliente"],
        "operationId": "cadastrarCliente",
        "parameters": [
          {
            "name": "X-Correlation-Id",
            "in": "header",
            "required": false,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/ClienteRequestDTO" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponseClienteResponseDTO"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/usuarios/administradores-plataforma": {
      "get": {
        "tags": ["controlador-administrador-plataforma"],
        "operationId": "listarAdministradores",
        "parameters": [
          {
            "name": "pageable",
            "in": "query",
            "required": true,
            "schema": { "$ref": "#/components/schemas/Pageable" }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponsePageAdministradorResponseDTO"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["controlador-administrador-plataforma"],
        "operationId": "cadastrarAdministrador",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdministradorRequestDTO"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "*/*": {
                "schema": {
                  "$ref": "#/components/schemas/BaseResponseAdministradorResponseDTO"
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "EmpresaRequestDTO": {
        "required": ["cnpj", "nomeFantasia", "razaoSocial"],
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "nomeFantasia": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string"
          },
          "razaoSocial": { "maxLength": 255, "minLength": 0, "type": "string" },
          "cnpj": {
            "pattern": "\\d{2}\\.\\d{3}\\.\\d{3}/\\d{4}-\\d{2}",
            "type": "string"
          },
          "emailContato": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string"
          },
          "enderecos": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/EnderecoRequestDTO" }
          },
          "telefones": {
            "uniqueItems": true,
            "type": "array",
            "items": { "type": "string" }
          }
        }
      },
      "EnderecoRequestDTO": {
        "required": [
          "bairro",
          "cep",
          "cidade",
          "estado",
          "logradouro",
          "numero",
          "pais",
          "tipoEndereco"
        ],
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "logradouro": { "maxLength": 255, "minLength": 0, "type": "string" },
          "numero": { "maxLength": 20, "minLength": 0, "type": "string" },
          "complemento": { "maxLength": 255, "minLength": 0, "type": "string" },
          "bairro": { "maxLength": 100, "minLength": 0, "type": "string" },
          "cidade": { "maxLength": 100, "minLength": 0, "type": "string" },
          "estado": { "maxLength": 2, "minLength": 2, "type": "string" },
          "cep": { "pattern": "\\d{5}-\\d{3}", "type": "string" },
          "pais": { "maxLength": 50, "minLength": 0, "type": "string" },
          "tipoEndereco": {
            "type": "string",
            "enum": [
              "RESIDENCIAL",
              "COMERCIAL",
              "ESCRITORIO",
              "COBRANCA",
              "ENTREGA",
              "OUTRO"
            ]
          }
        }
      },
      "BaseResponseEmpresaResponseDTO": {
        "type": "object",
        "properties": {
          "status": { "type": "string", "enum": ["SUCESSO", "ERRO", "AVISO"] },
          "message": { "type": "string" },
          "timestamp": { "type": "string", "format": "date-time" },
          "data": { "$ref": "#/components/schemas/EmpresaResponseDTO" },
          "errors": { "type": "array", "items": { "type": "string" } }
        }
      },
      "EmpresaResponseDTO": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "nomeFantasia": { "type": "string" },
          "razaoSocial": { "type": "string" },
          "cnpj": { "type": "string" },
          "emailContato": { "type": "string" },
          "enderecos": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/EnderecoResponseDTO" }
          },
          "telefones": {
            "uniqueItems": true,
            "type": "array",
            "items": { "type": "string" }
          },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" }
        }
      },
      "EnderecoResponseDTO": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "logradouro": { "type": "string" },
          "numero": { "type": "string" },
          "complemento": { "type": "string" },
          "bairro": { "type": "string" },
          "cidade": { "type": "string" },
          "estado": { "type": "string" },
          "cep": { "type": "string" },
          "pais": { "type": "string" },
          "tipoEndereco": {
            "type": "string",
            "enum": [
              "RESIDENCIAL",
              "COMERCIAL",
              "ESCRITORIO",
              "COBRANCA",
              "ENTREGA",
              "OUTRO"
            ]
          },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" }
        }
      },
      "ClienteRequestDTO": {
        "required": ["cpf", "nomeCompleto"],
        "type": "object",
        "properties": {
          "usuario": { "$ref": "#/components/schemas/UserRequestDTO" },
          "nomeCompleto": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string"
          },
          "cpf": {
            "pattern": "\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2}",
            "type": "string"
          },
          "dataNascimento": { "type": "string", "format": "date" },
          "enderecos": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/EnderecoRequestDTO" }
          },
          "telefones": {
            "uniqueItems": true,
            "type": "array",
            "items": { "type": "string" }
          },
          "status": { "type": "string" }
        }
      },
      "UserRequestDTO": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "email": { "type": "string" }
        }
      },
      "BaseResponseClienteResponseDTO": {
        "type": "object",
        "properties": {
          "status": { "type": "string", "enum": ["SUCESSO", "ERRO", "AVISO"] },
          "message": { "type": "string" },
          "timestamp": { "type": "string", "format": "date-time" },
          "data": { "$ref": "#/components/schemas/ClienteResponseDTO" },
          "errors": { "type": "array", "items": { "type": "string" } }
        }
      },
      "ClienteResponseDTO": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "usuario": { "$ref": "#/components/schemas/UserResponseDTO" },
          "nomeCompleto": { "type": "string" },
          "cpf": { "type": "string" },
          "dataNascimento": { "type": "string", "format": "date" },
          "enderecos": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/EnderecoResponseDTO" }
          },
          "telefones": {
            "uniqueItems": true,
            "type": "array",
            "items": { "type": "string" }
          },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" },
          "status": { "type": "string" },
          "tipo": { "type": "string" }
        }
      },
      "UserResponseDTO": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "email": { "type": "string" },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" }
        }
      },
      "AdministradorRequestDTO": {
        "required": ["cpf", "nomeCompleto"],
        "type": "object",
        "properties": {
          "usuario": { "$ref": "#/components/schemas/UserRequestDTO" },
          "nomeCompleto": {
            "maxLength": 255,
            "minLength": 0,
            "type": "string"
          },
          "cpf": {
            "pattern": "\\d{3}\\.\\d{3}\\.\\d{3}-\\d{2}",
            "type": "string"
          },
          "dataNascimento": { "type": "string", "format": "date" },
          "enderecos": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/EnderecoRequestDTO" }
          },
          "telefones": {
            "uniqueItems": true,
            "type": "array",
            "items": { "type": "string" }
          },
          "status": { "type": "string" }
        }
      },
      "AdministradorResponseDTO": {
        "type": "object",
        "properties": {
          "id": { "type": "string", "format": "uuid" },
          "usuario": { "$ref": "#/components/schemas/UserResponseDTO" },
          "nomeCompleto": { "type": "string" },
          "cpf": { "type": "string" },
          "dataNascimento": { "type": "string", "format": "date" },
          "enderecos": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/EnderecoResponseDTO" }
          },
          "telefones": {
            "uniqueItems": true,
            "type": "array",
            "items": { "type": "string" }
          },
          "createdAt": { "type": "string", "format": "date-time" },
          "updatedAt": { "type": "string", "format": "date-time" },
          "status": { "type": "string" }
        }
      },
      "BaseResponseAdministradorResponseDTO": {
        "type": "object",
        "properties": {
          "status": { "type": "string", "enum": ["SUCESSO", "ERRO", "AVISO"] },
          "message": { "type": "string" },
          "timestamp": { "type": "string", "format": "date-time" },
          "data": { "$ref": "#/components/schemas/AdministradorResponseDTO" },
          "errors": { "type": "array", "items": { "type": "string" } }
        }
      },
      "Pageable": {
        "type": "object",
        "properties": {
          "page": { "minimum": 0, "type": "integer", "format": "int32" },
          "size": { "minimum": 1, "type": "integer", "format": "int32" },
          "sort": { "type": "array", "items": { "type": "string" } }
        }
      },
      "BaseResponsePageEmpresaResponseDTO": {
        "type": "object",
        "properties": {
          "status": { "type": "string", "enum": ["SUCESSO", "ERRO", "AVISO"] },
          "message": { "type": "string" },
          "timestamp": { "type": "string", "format": "date-time" },
          "data": { "$ref": "#/components/schemas/PageEmpresaResponseDTO" },
          "errors": { "type": "array", "items": { "type": "string" } }
        }
      },
      "PageEmpresaResponseDTO": {
        "type": "object",
        "properties": {
          "totalPages": { "type": "integer", "format": "int32" },
          "totalElements": { "type": "integer", "format": "int64" },
          "size": { "type": "integer", "format": "int32" },
          "content": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/EmpresaResponseDTO" }
          },
          "number": { "type": "integer", "format": "int32" },
          "sort": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/SortObject" }
          },
          "numberOfElements": { "type": "integer", "format": "int32" },
          "first": { "type": "boolean" },
          "last": { "type": "boolean" },
          "pageable": { "$ref": "#/components/schemas/PageableObject" },
          "empty": { "type": "boolean" }
        }
      },
      "PageableObject": {
        "type": "object",
        "properties": {
          "offset": { "type": "integer", "format": "int64" },
          "sort": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/SortObject" }
          },
          "pageNumber": { "type": "integer", "format": "int32" },
          "pageSize": { "type": "integer", "format": "int32" },
          "paged": { "type": "boolean" },
          "unpaged": { "type": "boolean" }
        }
      },
      "SortObject": {
        "type": "object",
        "properties": {
          "direction": { "type": "string" },
          "nullHandling": { "type": "string" },
          "ascending": { "type": "boolean" },
          "property": { "type": "string" },
          "ignoreCase": { "type": "boolean" }
        }
      },
      "BaseResponsePageClienteResponseDTO": {
        "type": "object",
        "properties": {
          "status": { "type": "string", "enum": ["SUCESSO", "ERRO", "AVISO"] },
          "message": { "type": "string" },
          "timestamp": { "type": "string", "format": "date-time" },
          "data": { "$ref": "#/components/schemas/PageClienteResponseDTO" },
          "errors": { "type": "array", "items": { "type": "string" } }
        }
      },
      "PageClienteResponseDTO": {
        "type": "object",
        "properties": {
          "totalPages": { "type": "integer", "format": "int32" },
          "totalElements": { "type": "integer", "format": "int64" },
          "size": { "type": "integer", "format": "int32" },
          "content": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/ClienteResponseDTO" }
          },
          "number": { "type": "integer", "format": "int32" },
          "sort": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/SortObject" }
          },
          "numberOfElements": { "type": "integer", "format": "int32" },
          "first": { "type": "boolean" },
          "last": { "type": "boolean" },
          "pageable": { "$ref": "#/components/schemas/PageableObject" },
          "empty": { "type": "boolean" }
        }
      },
      "BaseResponsePageAdministradorResponseDTO": {
        "type": "object",
        "properties": {
          "status": { "type": "string", "enum": ["SUCESSO", "ERRO", "AVISO"] },
          "message": { "type": "string" },
          "timestamp": { "type": "string", "format": "date-time" },
          "data": {
            "$ref": "#/components/schemas/PageAdministradorResponseDTO"
          },
          "errors": { "type": "array", "items": { "type": "string" } }
        }
      },
      "PageAdministradorResponseDTO": {
        "type": "object",
        "properties": {
          "totalPages": { "type": "integer", "format": "int32" },
          "totalElements": { "type": "integer", "format": "int64" },
          "size": { "type": "integer", "format": "int32" },
          "content": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/AdministradorResponseDTO" }
          },
          "number": { "type": "integer", "format": "int32" },
          "sort": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/SortObject" }
          },
          "numberOfElements": { "type": "integer", "format": "int32" },
          "first": { "type": "boolean" },
          "last": { "type": "boolean" },
          "pageable": { "$ref": "#/components/schemas/PageableObject" },
          "empty": { "type": "boolean" }
        }
      },
      "BaseResponseVoid": {
        "type": "object",
        "properties": {
          "status": { "type": "string", "enum": ["SUCESSO", "ERRO", "AVISO"] },
          "message": { "type": "string" },
          "timestamp": { "type": "string", "format": "date-time" },
          "data": { "type": "object" },
          "errors": { "type": "array", "items": { "type": "string" } }
        }
      }
    }
  }
}
